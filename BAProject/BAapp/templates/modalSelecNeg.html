<style>
.modal-title {
    font-size: 32px;
    font-family: 'Montserrat';
    text-align: left;
    font-weight: 600;
    color: black;
    }

* {
    font-size: 14px;
}

.tablita thead tr {
    border-bottom: 1px solid black;
}

.tablita tbody tr {
    border: none;
}

.striped-custom:nth-child(even) {
    background-color: rgba(82, 174, 50, 0.18);
    border-radius: 15px;
    padding: 5px;
    margin-top: 20px;
    margin-bottom: 20px;
}

.buscador {
    border: 0.5px solid rgba(206, 206, 207, 0.31);
    box-shadow: 0px 3.00408px 30.0408px rgba(0, 67, 86, 0.08);
    border-radius: 15px;
}

#inputBuscador {
    border-bottom: none !important;
    box-shadow: none !important;
    font-weight: 400;
    font-size: 14px;
    margin-bottom: 0px !important;
}

#inputBuscador:focus {
    border-bottom: none !important;
    box-shadow: none !important;
}

#inputBuscador::placeholder {
    font-weight: 400;
    font-size: 14px;
    color: #706F6F;
    text-align: start;
}

.input-field .prefix {
    font-size: 1.5rem !important;
    color: #706F6F !important;
    margin-top: 5px !important;
    margin-left: 5px !important;
    user-select: none !important;
}

.input-field .prefix.active {
    color: #706F6F !important;
    user-select: none !important; 
}

</style>

<div class="modal-content">
    <h4 class="left modal-title">Cargar {{tipo|lower}}</h4>
    <div class="row">
        <div class="col s12 m12">
            <div class="col s12 m6 buscador input-field valign-wrapper">
                <i class="material-icons prefix">search</i>
                <input id="inputBuscador" placeholder="Buscar Negocio" onkeyup="searchBuscador()" type="text">
            </div>
            {% for negocio in negocios%}
            <div class="striped-custom col s12 m12">
                <table class="tablita responsive-table" id="tablita">
                    <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Empresa</th>
                        <th>Cliente</th>
                        <th>Código de Negocio</th>
                        <th>Estado</th>
                        <th>Ver Negociación</th>
                    </tr>
                    </thead>
                    <tbody id="table">
                        <tr data-id={{negocio.id}}>
                            <td>{{negocio.timestamp|date:"M d, Y"}}</td>
                            <td>{{negocio.comprador.empresa.razon_social}}</td>
                            <td>{{negocio.comprador.get_full_name}}</td>
                            <td>{{negocio.get_id_de_neg}}</td>
                            <td>{{negocio.get_estado_display}}</td>
                            <td><a class="btn-floating btn waves-effect waves-light transparent no-shadows" href="{% url 'info_negocio' negocio.id_prop %}"><i class="material-icons" style="color: #459A33;">search</i></a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<script>
    
    $(document).ready(function(){
        $('select').formSelect();
    });

    function searchBuscador() {
        var value = $("#inputBuscador").val().toLowerCase();
        $(".striped-custom").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
        });
    }

</script>